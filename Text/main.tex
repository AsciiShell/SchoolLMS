%!TEX TS-program = xelatex

% Шаблон документа LaTeX создан в 2018 году
% Алексеем Подчезерцевым
% В качестве исходных использованы шаблоны
% 	Данилом Фёдоровых (danil@fedorovykh.ru) 
%		https://www.writelatex.com/coursera/latex/5.2.2
%	LaTeX-шаблон для русской кандидатской диссертации и её автореферата.
%		https://github.com/AndreyAkinshin/Russian-Phd-LaTeX-Dissertation-Template

\documentclass[a4paper,14pt]{article}

\input{data/preambular.tex}
\begin{document} % конец преамбулы, начало документа
\input{data/title.tex}

\section*{Аннотация}

%Количество страниц работы: \getlastpage, иллюстраций: \totalfigures, таблиц: \totaltables, источников: \LastBib.

\pagebreak

\section*{Annotation}

%Total number of pages is \getlastpage, figures: \totalfigures, tables: \totaltables, cite sources: \LastBib.
\pagebreak

\tableofcontents
\pagebreak

\section*{Введение}

% Начало введения

% Актуальность

% Новизна

% Объект

% Предмет

% Цель

% Задачи

% Значимость

% Личный вклад

% Конец введения

\pagebreak

% ==============================================================================
% Начало Г1

\section{Обзор и анализ предметной области}

% Comment - надо аккуратно перенести часть текста во 2 главу, чтобы GIT не ругался

\subsection{Состояние предметной области}

Важной частью современного образования является дополнительные образовательные программы, которые направлены на разностороннее развитие личных качеств.
Секции, кружки по интересам, образовательные курсы получили широкое распространение во многих странах мира.
Некоторые учебные программы финансируются государством, другие привлекают школьников или студентов для дальнейшей учёбы или работы.

Современный курс может носить как дистанционный, так и очный характер, однако в любом случае необходимо организовать данный процесс.
Преподавателям и руководителям требуется контролировать запись и посещаемость, распространение справочного материала, проводить срез знаний, проверять работы, вести учёт оценок и выполнять множество других однотипных действий.
Логичным решением данной проблемы есть автоматизация данного процесса с использованием программных средств.

Данный подход широко используется в современном образовании. В частности, многие организации используют собственные системы контроля образовательного процесса или подключаются к уже готовым решениям.

% Г1 - детальное и подробное описание существующих технологий

% Г1 - детальное и подробное описание аналогичных технологических решений

% Г1 - анализ технологий

% Г1 - Выбор Решения - таблица сравнения

% Г1 - Выводы и заключение

% Конец Г1
% ==============================================================================
% Начало Г2

% Методы решения

\section{Обзор и анализ методов решения}

\subsection{Анализ существующих решений}

%Существует огромное количество систем управления обучением, 

%В последнее время появилось огромное количество систем для управления образованием. 
Для сравнения были выбраны следующие варианты:

\begin{itemize}
	\item iSpring Online LMS
	\item Moodle	
	\item edx
	\item LMS HSE
	
\end{itemize}

% Детальное описание

\subsubsection{iSpring Online LMS}

Аналогов iSpring Online LMS существует очень много.
%Их объединяет следующие преимущества этих систем: простота в установке и управлении
К основными чертам таких систем можно отнести:
\begin{itemize}
	\item простота в установке
	\item простота в управлении	
	\item профессиональная техническая поддержка.
\end{itemize}

При этом у них присутствуют следующие недостатки:
\begin{itemize}
	\item отсутствие кастомизации
	\item стоимость системы
\end{itemize} 

\subsubsection{LMS eFront }

\begin{itemize}
	\item Чёткая вёрстка веб-страниц, стабильная работа программной оболочки 
	\item Подробные отчёты о деятельности пользователей с гибкой фильтрацией	
	
\end{itemize} 

Недостатки системы:

\begin{itemize}
	\item Относительно небольшое количество инструментов для создания учебных материалов
	\item Относительно мало дополнительных модулей
	\item Малое сообщество пользователей
	
	
\end{itemize} 

\subsubsection{Moodle}

Moodle - крупнейшая и самая популярная система управления курсами, которая активно развивается с 2002 года. Важными преимуществами этой системы являются:

\begin{itemize}
	\item бесплатность системы
	\item Неограненный возможности кастомизации
	\item Наличие широкого функционала для обеспечения процесса обучения (есть почти всё)
	\item Бесплатная, с открытым исходным кодом
	\item Большое онлайн-сообщество на официальном сайте
	
\end{itemize} 

Минусы системы:

\begin{itemize}
	\item Сложна для освоения	
\end{itemize} 


\subsubsection{Open edX} 

Платформа Open edX была создана Массачусетским технологическим институтом совместно с Гарвардским университетом.
Данная платформа позволяет создавать массовые онлайн курсы, ориентированные для широкой аудитории.

К достоинствам данного решения можно отнести:

\begin{itemize}
	\item Открытый исходный код платформы
	\item Разнообразие плагинов для расширения функционала
	\item Большое сообщество разработчиков
\end{itemize}

Недостатки:

\begin{itemize}
	\item Система ориентирована на дистанционное обучение
	\item Сложность с интеграцией с существующими проектами образовательного учреждения
\end{itemize}

\subsubsection{Собственное решение} 

\textbf{Написать решение с <<Нуля>>} часто рассматривается при проектировании.
Оно позволит создать продукт с функционалом, наиболее подходящим к желанию заказчика.

Достоинства подхода:

\begin{itemize}
	\item Возможность создать продукт с максимальным соответствием требованиям
	\item Отсутствие зависимостей от сторонних готовых CMS 
\end{itemize}

Однако, данный подход содержит существенный недостаток: высокая стоимость разработки (в человеко-часах).
Разработчикам придётся создать весь функционал, который существует в готовых решениях,  и ещё добавить связанный с конкретной задачей.
Кроме того, не будет достаточно времени и ресурсов для полного тестирования системы.

% Анализ методов

% TODO совпадение с предыдущим пунктом?

% Выбор метода

\begin{landscape}
	\begin{table}[!h]
		\begin{center}
			\begin{flushleft}
				\tablecaption{Сравнение основных систем}
			\end{flushleft}
			
			\begin{tabular}{|l|l|l|l|l|l|}
				\hline
				& iSpring Online LMS & LMS eFront & Moodle & Open edX & Собственное решение \\ \hline
				Бесплатно                              & -                  & +          & +      & +        & +                   \\ \hline
				Малое время разработки                 & +                  & +          & +      & +        & -                   \\ \hline
				Наличие широкого сообщества            & техподдержка       & ±          & +      & +        & -                   \\ \hline
				Возможность кастомизации               & -                  & ±          & ±      & ±        & +                   \\ \hline
				Простота разработки                    & -                  & ±          & +      & +        & -                   \\ \hline
				Простота обслуживания                  & +                  & ±          & ±      & ±        & +                   \\ \hline
				Надежность                             & +                  & +          & +      & +        & -                   \\ \hline
				Ориентация на традиционное образование & +                  & +          & +      & -        & +                   \\ \hline
			\end{tabular}
		\end{center}
	\end{table}
\end{landscape}

% Заключение и выводы

% Конец Г2
% ==============================================================================
% Начало Г3

% Модели

% Методы

% Алгоритмы

% Схемы

% UML

% Выводы

% Конец Г3
% ==============================================================================
% Начало Г4

\section{Практическая реализация}
% Описание решения
\subsection{Подготовка окружения}

Для разработки была взята последняя стабильная версия 3.6.1 на GitHub, однако история разработки была сброшена, так как проект Moodle имеет слишком большую историю разработки и более 90 тысяч коммитов только в главной ветке.
Для хостинга кода был создан приватный репозиторий на GitHub.

В качестве сервера был использован уже имеющийся хостинг VPS DigitalOcean с сервером в Лондоне на минимальном тарифном плане (1 vCPU, 1 ГБ RAM, 25 ГБ SSD), на котором были уже установлены СУБД MySQL и web сервер NGINX для других проектов.
Было выделено доменное имя 3 уровня \url{lms.asciishell.site} на собственном домене.
Был создан новый unix пользователь для работы с новым сервисом, настроен доступ к репозиторию по ключу.
Кроме того, для успешной работы Moodle понадобилось установить php интерпретатор и apache. 
После потребовалось настроить NGINX прокси и apache для совместной работы, сконфигурировать LetsEncrypt для выдачи и автоматического обновления сертификата безопасности сайта.
Для разработки был использован Open Server с MySQL и php.
На данном этапе первичная настройка была окончена, чего было достаточно для разработки и тестирования на реальном сервере.

\subsection{Установка плагинов}

Многий функционал в Moodle добавляется и настраивается с помощью специальных пакетов -- плагинов -- которые расширяют функционал приложения.
Moodle имеет богатую библиотеку плагинов, позволяющие решить практически любую типовую задачу.

В первую очередь был установлен и настроен \textbf{CodeRunner} и зависимые плагины.
Данный плагин позволяет создавать вопросы с проверкой программного кода ученика на многих языках, в том числе на Python, C++ и JavaScript.

Для большего удобства дальнейшей работы были установлены расширения для подсветки исходного кода для повышения удобочитаемости и привитию привычки к качественному коду у учеников.

Кроме того, были добавлены плагины с вопросами на упорядочивание данных и соотношения для увеличения возможностей преподавательского состава проверять знания учащихся.

\subsection{Настройка почты}

Одна из функций нашей платформы -- рассылка почты.
Данный функционал присутствует практически в каждом современном сайте с регистрацией пользователя.
С помощью почты пользователь может получать уведомления от учителя, администратора, взаимодействовать с другими пользователями.

В качестве сервера почты был выбран Яндекс.Коннект, который предоставляет удобный и понятный интерфейс для управления записями доменного имени, а так же не менее простой и бесплатный сервис по настройке почты для своего домена (Рис. \ref{img:yandex}).
Был создан почтовый ящик, с которого необходимо производить рассылку корреспонденции (Рис. \ref{img:miemMail}), далее установлен и настроен почтовый сервер postfix для приёма писем с Moodle и пересылкой их на сервера Яндекса.
В Moodle сервером получателем был указан localhost.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\linewidth]{image/yandex_connect}
	\caption{Интерфейс администратора домена Яндекс.Коннект}
	\label{img:yandex}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\linewidth]{image/yandex_miem}
	\caption{Учётная запись почтовой рассылки}
	\label{img:miemMail}
\end{figure}

\subsection{Интеграция с РУЗом}

Одна из самых ресурсозатратных задач данной работы -- интегрировать взаимодействие с сервером расписаний учебных занятий для реализации поиска по группе и автоматического обновления расписания.
Был произведён анализ трафика на странице \url[РУЗа]{https://ruz.hse.ru/ruz/main}, где была выявлена схема взаимодействия с backend-ом.
Полученные данные были использованы для составления собственных запросов.
Сервер возвращал информацию в формате JSON, поэтому не возникло трудностей с обработкой результата.
Были созданы таблицы, реализованы методы для работы с базой данных и отправкой запросов на удалённый сервер.
Кроме того, были свёрстаны страницы для красивого и удобного пользовательского интерфейса.

% Описание экспериментов

% Демонстрация
\subsection{Демонстрация работы}

Дополнительный интерфейс размещён по адресу \url{/ruz}, который разрешает доступ только авторизованным пользователям с правами администратора, в противном случае пользователю откажут в доступе (Рис. \ref{img:ui_login}).
	
\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{image/ui_login}
	\caption{Страница входа}
	\label{img:ui_login}
\end{figure}

В случае успешной авторизации пользователь попадает в панель администратора, на главной странице которой выведен список всех групп (Рис. \ref{img:ui_listOfGroups}).
На данной странице можно перейти непосредственно к курсу, посмотреть его номер в РУЗе, записать пользователей с интересующей ролью (Рис. \ref{img:ui_enroll}), посмотреть расписание данной группы (Рис. \ref{img:ui_scheduler}) или перейти к редактированию.

\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{image/ui_listOfGroups}
	\caption{Главная страница -- обзор групп}
	\label{img:ui_listOfGroups}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{image/ui_enroll}
	\caption{Форма записи на курс}
	\label{img:ui_enroll}
\end{figure}
\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{image/ui_scheduler}
	\caption{Форма просмотра расписание группы}
	\label{img:ui_scheduler}
\end{figure}

На странице поиска групп, которая находится на \url{/ruz/findGroup.php} можно найти интересующие записи с помощью формы ввода названия группы, подходящие варианты будут отображены на экране (Рис. \ref{img:ui_search}) с возможностью сразу создать курс на основе данной группы (Рис. \ref{img:ui_newGroup}), однако для уже существующих групп такой возможности нет для обеспечения сохранения условий целостности системы.

\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{image/ui_search}
	\caption{Страница поиска группы}
	\label{img:ui_search}
\end{figure}
\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{image/ui_newGroup}
	\caption{Форма создания курса}
	\label{img:ui_newGroup}
\end{figure}

Страница редактора группы (\url{/ruz/editGroup.php}) (Рис. \ref{img:ui_groupEditor}) позволят записать единичного пользователя (Рис. \ref{img:ui_newUser}) или перейти на страницу с возможностью загрузки нескольких пользователей одновременно.

\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{image/ui_groupEditor}
	\caption{Страница редактора группы }
	\label{img:ui_groupEditor}
\end{figure}
\begin{figure}[H]
	\centering
	\includegraphics[width=\linewidth]{image/ui_newUser}
	\caption{Форма записи пользователя}
	\label{img:ui_newUser}
\end{figure}

Для служебный действий или автоматизации с другими сервисами предусмотрен API по адресу \url{/ruz/api/*}.
Доступные действия:
\begin{itemize}
	\item \url{/ruz/api/attachUser.php} -- записать пользователя на курс
	\item \url{/ruz/api/createGroup.php} -- создать группу
	\item \url{/ruz/api/createUser.php} -- создать пользователя
	\item \url{/ruz/api/findGroup.php} -- найти группу в РУЗе
	\item \url{/ruz/api/getGroup.php} -- получить группы
	\item \url{/ruz/api/getUser.php} -- получить пользователей
	\item \url{/ruz/api/ruzDisplay.php} -- отобразить расписание 
	\item \url{/ruz/api/ruzFetch.php} -- получить свежее расписание с РУЗа (доступно так же в CLI режиме, автоматически выполняется через cron)
\end{itemize}
% Анализ результатов

% Подтверждение актуальности

% Выводы и заключение

% Конец Г4
% ==============================================================================
% Начало заключения

% Результаты

% Научная новизна и практическая значимость

% Личный вклад каждого соавтора работы, даже если автор 1

% Ваши выводы

% Предполагаемое применение полученных результатов

% Направление дальнейших исследований (перспективы дальнейшего развития работы)

% Конец заключения
% ==============================================================================
\end{document} % конец документа

